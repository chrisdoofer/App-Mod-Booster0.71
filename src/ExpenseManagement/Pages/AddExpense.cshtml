@page
@model AddExpenseModel
@{
    ViewData["Title"] = "Add Expense";
}

<div class="card">
    <h2>‚ûï Add New Expense</h2>

    @if (!string.IsNullOrEmpty(Model.SuccessMessage))
    {
        <div style="background: #d4edda; border: 1px solid #c3e6cb; padding: 15px; border-radius: 6px; margin: 20px 0; color: #155724;">
            <strong>‚úÖ @Model.SuccessMessage</strong>
        </div>
    }

    @if (!string.IsNullOrEmpty(Model.ErrorMessage))
    {
        <div class="error-banner">
            <h3>‚ö†Ô∏è Error</h3>
            <p><strong>@Model.ErrorMessage</strong></p>
        </div>
    }

    <form method="post" style="margin-top: 20px;">
        <div class="form-group">
            <label for="EmployeeName">Employee Name</label>
            <input type="text" class="form-control" id="EmployeeName" name="EmployeeName" required />
        </div>

        <div class="form-group">
            <label for="Description">Description</label>
            <textarea class="form-control" id="Description" name="Description" rows="3" required></textarea>
        </div>

        <div class="form-group">
            <label for="Amount">Amount (¬£)</label>
            <input type="number" class="form-control" id="Amount" name="Amount" step="0.01" min="0" required />
        </div>

        <div class="form-group">
            <label for="Category">Category</label>
            <select class="form-control" id="Category" name="Category" required>
                <option value="">-- Select Category --</option>
                @foreach (var category in Model.Categories)
                {
                    <option value="@category.CategoryName">@category.CategoryName</option>
                }
            </select>
        </div>

        <div class="form-group">
            <label for="ExpenseDate">Expense Date</label>
            <input type="date" class="form-control" id="ExpenseDate" name="ExpenseDate" value="@DateTime.Now.ToString("yyyy-MM-dd")" required />
        </div>

        <div style="display: flex; gap: 15px; margin-top: 30px;">
            <button type="submit" class="btn btn-primary">üíæ Save Expense</button>
            <a href="/" class="btn" style="background: #6c757d; color: white;">Cancel</a>
        </div>
    </form>
</div>
